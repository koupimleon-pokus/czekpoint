<!DOCTYPE html><html lang="cs"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hlášení o stavu cest</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<link rel="stylesheet" href="style.css">
</head><body>
<header><div class="brand"><img class="logo" src="../Pohodová%20cesta%20s%20technologií%20a%20přírodou.png"><h1>Hlášení o stavu cest</h1></div></header>
<main class="container">
  <form id="formReport" class="card">
    <div class="row"><input name="checkpoint" placeholder="Název checkpointu" required></div>
    <textarea name="comment" placeholder="Popiš problém, stav nebo tip..." required></textarea>
    <div class="row"><input name="user" placeholder="Jméno / přezdívka (volitelné)"></div>
    <button class="primary">Odeslat hlášení</button>
  </form>
  <section id="list"></section>
</main>
<footer class="nav">
  <a href="index.html"><i class="fa-solid fa-home"></i>Domů</a>
  <a href="pridat.html"><i class="fa-solid fa-plus-circle"></i>Přidat</a>
  <a href="mapa.html"><i class="fa-solid fa-map"></i>Mapa</a>
  <a href="profil.html"><i class="fa-solid fa-user"></i>Profil</a>
</footer>
<script type="module">
import {qs,store} from './script.js'
const form = qs('#formReport'), list = qs('#list')
function render(){
  const arr = store.get('czekReports', [])
  list.innerHTML = arr.length? arr.map(r=>`<article class="card">
    <h2>${r.checkpoint}</h2><p>${r.comment}</p>
    <p class="small">🕒 ${r.time} • 🧍 ${r.user}</p></article>`).join('')
    : '<p class="small">Žádná hlášení zatím nejsou.</p>'
}
render()
form.addEventListener('submit', e=>{
  e.preventDefault()
  const fd = new FormData(form)
  const r = { checkpoint:fd.get('checkpoint'), comment:fd.get('comment'),
    user: fd.get('user') || 'Anonym', time: new Date().toLocaleString() }
  const arr = store.get('czekReports', []); arr.unshift(r); store.set('czekReports', arr)
  form.reset(); render()
})
</script>
</body></html>
